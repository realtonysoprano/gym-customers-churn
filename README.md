# Анализ и прогнозирование оттока клиентов фитнес-клуба

## 1. Постановка задачи

Цель проекта - построить модель машинного обучения, которая предсказывает вероятность оттока клиентов фитнес-клуба, и сформировать бизнес-рекомендации для удержания клиентов.

**Задачи:**

* Провести предобработку и разведочный анализ данных (EDA).
* Построить и сравнить несколько моделей классификации.
* Интерпретировать факторы оттока с помощью SHAP.
* Сегментировать клиентов по уровню риска и предложить бизнес-метрики.

---

## 2. Данные

Датасет содержит информацию о клиентах фитнес-клуба: демографические признаки, история посещений, контракты, дополнительные траты. Всего 16 признаков.

Примеры признаков:

* **Age** - возраст.
* **Lifetime** - срок пребывания в клубе (месяцы).
* **Contract\_period** - длительность контракта.
* **Avg\_class\_frequency\_total** - средняя частота посещений.
* **Avg\_additional\_charges\_total** - расходы на доп.услуги.
* **Month\_to\_end\_contract** - месяцев до конца контракта.
* **Churn** - целевая переменная (1 - клиент ушёл, 0 - остался).

Добавлены инженерные признаки:

* `contract_left_ratio` - доля оставшегося срока контракта.
* `avg_freq_diff` - изменение частоты посещений.
* `activity_drop_flag` - индикатор снижения активности.

---

## 3. Моделирование

### 3.1 Logistic Regression (baseline)

* **AUC-ROC = 0.974**
* **F1-score = 0.841**

Вывод: модель хорошо справляется, но не улавливает нелинейные зависимости.

### 3.2 Random Forest

* **AUC-ROC = 0.981**
* **F1-score = 0.886**

Модель показала более высокие метрики за счёт учёта нелинейных взаимодействий между признаками. SHAP-анализ выявил ключевые факторы риска:

1. `avg_freq_diff` - снижение активности.
2. `Lifetime` - срок пребывания в клубе.
3. `Contract_period` - длительность контракта.
4. `Month_to_end_contract` - оставшееся время по контракту.
5. `Avg_class_frequency_current_month` - активность в текущем месяце.

---

## 4. Сегментация клиентов по риску оттока

На основе предсказаний модели клиенты разделены на группы:

* **High risk** - вероятность оттока \~90%.
* **Medium risk** - вероятность оттока \~25%.
* **Low risk** - вероятность оттока \~2%.

Такое распределение позволяет бизнесу приоритизировать усилия:

* **High risk** : удерживающие акции, индивидуальные предложения.
* **Medium risk** : напоминания, промо-акции, контроль вовлечённости.
* **Low risk** : стандартное обслуживание.

---

## 5. Выводы и рекомендации

* Построенные модели показали высокую точность, особенно Random Forest.
* Ключевые драйверы оттока связаны со снижением активности и длительностью контракта.
* Сегментация клиентов позволяет бизнесу оптимизировать маркетинговые и удерживающие стратегии.
* Для дальнейшего развития проекта можно протестировать XGBoost, внедрить автоматизацию пайплайна и добавить мониторинг качества модели.

---

## 6. Репозиторий

В репозитории доступны:

* Jupyter Notebook с полным пайплайном анализа и моделирования.
* README.md с кратким описанием и ключевыми результатами.
